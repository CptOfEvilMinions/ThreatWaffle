# ThreatWaffle
Threat hunting repo for my independent study on threat hunting with OSQuery.


# Setup infrastructure
1. [Setup Windows Domain Controller](docs/windows.md)
1. [Setup domain user](docs/windows.md)
1. [Setup Kolide OSQuery fleet manager](docs/kolide+osquery.md)
1. [Deploy Windows OSQuery agent](docs/kolide+osquery.md)
1. [Deploy Linux OSQuery agent](docs/kolide+osquery.md)
1. [Caldera with Ansible](docs/caldera.md)

## Ansible Kolide OS support
* Ubuntu Server 20.04 64-bit

# To do:
* Set up Mac OSX deployment for OSQuery
* Docker setup
* Add DNS setup to DC

## References
### Kolide
* [Kolide Fleet releases](https://github.com/kolide/fleet/releases)
* []()
* []()
* []()

### Ansible
* [apt_key](https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_key_module.html)
* [apt_repository](https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_repository_module.html)
* []()
* []()
* []()

### Graylog
* [Graylog - Ubuntu installation](https://docs.graylog.org/en/4.0/pages/installation/os/ubuntu.html)
* [Graylog - NGINX](https://docs.graylog.org/en/4.0/pages/configuration/web_interface.html?highlight=nginx#nginx)
* []()
* []()
* []()
* []()

### ELK
* [winlogbeat.yml](https://github.com/CptOfEvilMinions/BlogProjects/blob/master/sysmon-winlogbeat-communityid/conf/winlogbeat/winlogbeat.yml)
* []()
* []()

### NGINX
* [Redirect HTTP to HTTPS in Nginx](https://serversforhackers.com/c/redirect-http-to-https-nginx)
* [Make nginx to pass hostname of the upstream when reverseproxying](https://serverfault.com/questions/598202/make-nginx-to-pass-hostname-of-the-upstream-when-reverseproxying)
* []()
* []()
* []()
* []()
